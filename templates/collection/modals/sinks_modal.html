<!-- Simple Bootstrap Modal - Original Style -->
<div class="modal fade" id="editProductModal" tabindex="-1" data-bs-backdrop="static">
  <div class="modal-dialog modal-fullscreen-lg-down modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title d-flex align-items-center">
          <i class="fas fa-edit me-2"></i>Edit Sink - <span id="editProductTitle">Product</span>
          <span id="modalStatusBadge" class="badge bg-secondary ms-3" style="display: none;">Ready</span>
          <span id="liveUpdatesBadge" class="badge bg-success ms-2" style="display: none;">
            <i class="fas fa-wifi me-1"></i>Live Updates
          </span>
        </h5>
        <div class="d-flex align-items-center">
          <button type="button" class="btn btn-success btn-sm me-2" onclick="console.log('ðŸ–±ï¸ Save button clicked!'); saveProduct();" title="Save all changes to Google Sheets">
            <i class="fas fa-save me-1"></i>Save Changes
          </button>
          <button type="button" class="btn btn-primary btn-sm me-2" onclick="extractSingleProductWithStatus(event)" title="AI Extract This Product">
            <i class="fas fa-robot me-1"></i>AI Extract
          </button>
          <button type="button" class="btn btn-info btn-sm me-2" onclick="extractCurrentProductImages(event)" title="Extract Images for This Product">
            <i class="fas fa-images me-1"></i>Extract Images
          </button>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
      </div>

      <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
        <form id="editProductForm">
          <!-- Hidden fields -->
          <input type="hidden" id="editRowNum" name="rowNum">
          <input type="hidden" id="editCollectionName" name="collectionName" value="sinks">

          <div class="container-fluid">
            <div class="row">
              <!-- Left Column -->
              <div class="col-md-6">
                <!-- Basic Information -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-info-circle me-2"></i>Basic Information</h6>
                  </div>
                  <div class="card-body">
                    <div class="mb-3">
                      <label for="editSku" class="form-label">SKU</label>
                      <input type="text" class="form-control" id="editSku" name="variant_sku">
                    </div>

                    <div class="mb-3">
                      <label for="editTitle" class="form-label">Product Title</label>
                      <input type="text" class="form-control" id="editTitle" name="title">
                    </div>

                    <div class="mb-3">
                      <label for="editVendor" class="form-label">Vendor</label>
                      <input type="text" class="form-control" id="editVendor" name="vendor">
                    </div>

                    <div class="mb-3">
                      <label for="editInstallationType" class="form-label">Installation Type</label>
                      <select class="form-select" id="editInstallationType" name="installation_type">
                        <option value="">Select...</option>
                        <option value="Top Mount">Top Mount</option>
                        <option value="Undermount">Undermount</option>
                        <option value="Drop-in">Drop-in</option>
                        <option value="Flush Mount">Flush Mount</option>
                      </select>
                    </div>

                    <div class="mb-3">
                      <label for="editProductMaterial" class="form-label">Product Material</label>
                      <input type="text" class="form-control" id="editProductMaterial" name="product_material">
                    </div>

                    <div class="mb-3">
                      <label for="editGradeOfMaterial" class="form-label">Grade of Material</label>
                      <input type="text" class="form-control" id="editGradeOfMaterial" name="grade_of_material">
                    </div>

                    <div class="mb-3">
                      <label for="editBrandName" class="form-label">Brand Name</label>
                      <input type="text" class="form-control" id="editBrandName" name="brand_name">
                    </div>
                  </div>
                </div>

                <!-- Physical Specifications -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-ruler me-2"></i>Physical Specifications</h6>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editLengthMm" class="form-label">Length (mm)</label>
                          <input type="number" class="form-control" id="editLengthMm" name="length_mm">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editOverallWidthMm" class="form-label">Width (mm)</label>
                          <input type="number" class="form-control" id="editOverallWidthMm" name="overall_width_mm">
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editOverallDepthMm" class="form-label">Depth (mm)</label>
                          <input type="number" class="form-control" id="editOverallDepthMm" name="overall_depth_mm">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editWeight" class="form-label">Weight (kg)</label>
                          <input type="number" step="0.01" class="form-control" id="editWeight" name="shopify_weight">
                        </div>
                      </div>
                    </div>

                    <div class="mb-3">
                      <label for="editCutoutSizeMm" class="form-label">Cutout Size (mm)</label>
                      <input type="text" class="form-control" id="editCutoutSizeMm" name="cutout_size_mm">
                    </div>
                  </div>
                </div>
              </div>

              <!-- Right Column -->
              <div class="col-md-6">
                <!-- Sink Details -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-tint me-2"></i>Sink Details</h6>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editBowlsNumber" class="form-label">Number of Bowls</label>
                          <input type="number" class="form-control" id="editBowlsNumber" name="bowls_number">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editFaucetHoles" class="form-label">Faucet Holes</label>
                          <input type="number" class="form-control" id="editFaucetHoles" name="tap_holes_number">
                        </div>
                      </div>
                    </div>

                    <div class="mb-3">
                      <label for="editHasOverflow" class="form-label">Has Overflow</label>
                      <select class="form-select" id="editHasOverflow" name="has_overflow">
                        <option value="">Select...</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                      </select>
                    </div>

                    <div class="mb-3">
                      <label for="editDrainPosition" class="form-label">Drain Position</label>
                      <input type="text" class="form-control" id="editDrainPosition" name="drain_position">
                    </div>

                    <div class="mb-3">
                      <label for="editWasteOutletDimensions" class="form-label">Waste Outlet Dimensions</label>
                      <input type="text" class="form-control" id="editWasteOutletDimensions" name="waste_outlet_dimensions">
                    </div>
                  </div>
                </div>

                <!-- Pricing -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-dollar-sign me-2"></i>Pricing</h6>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editRrpPrice" class="form-label">RRP Price</label>
                          <input type="number" step="0.01" class="form-control" id="editRrpPrice" name="shopify_compare_price">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editSalePrice" class="form-label">Sale Price</label>
                          <input type="number" step="0.01" class="form-control" id="editSalePrice" name="shopify_price">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Full Width Sections -->
            <div class="row">
              <div class="col-12">
                <!-- Product Description -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-align-left me-2"></i>Product Description</h6>
                  </div>
                  <div class="card-body">
                    <div class="mb-3">
                      <label for="editBodyHtml" class="form-label">Description</label>
                      <textarea class="form-control" id="editBodyHtml" name="body_html" rows="4"></textarea>
                    </div>
                  </div>
                </div>

                <!-- Features -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-star me-2"></i>Features</h6>
                  </div>
                  <div class="card-body">
                    <div class="mb-3">
                      <label for="editFeatures" class="form-label">Features</label>
                      <textarea class="form-control" id="editFeatures" name="features" rows="3"></textarea>
                    </div>
                  </div>
                </div>

                <!-- FAQs -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-question-circle me-2"></i>FAQs</h6>
                  </div>
                  <div class="card-body">
                    <div class="mb-3">
                      <label for="editFaqs" class="form-label">FAQs</label>
                      <textarea class="form-control" id="editFaqs" name="faqs" rows="4"></textarea>
                    </div>
                  </div>
                </div>

                <!-- SEO -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-search me-2"></i>SEO</h6>
                  </div>
                  <div class="card-body">
                    <div class="mb-3">
                      <label for="editSeoTitle" class="form-label">SEO Title</label>
                      <input type="text" class="form-control" id="editSeoTitle" name="seo_title">
                    </div>

                    <div class="mb-3">
                      <label for="editSeoDescription" class="form-label">SEO Description</label>
                      <textarea class="form-control" id="editSeoDescription" name="seo_description" rows="2"></textarea>
                    </div>

                    <div class="mb-3">
                      <label for="editTags" class="form-label">Tags</label>
                      <input type="text" class="form-control" id="editTags" name="shopify_tags">
                    </div>
                  </div>
                </div>

                <!-- Additional Fields -->
                <div class="card mb-3">
                  <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-cog me-2"></i>Additional Information</h6>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editApplicationLocation" class="form-label">Application Location</label>
                          <input type="text" class="form-control" id="editApplicationLocation" name="application_location">
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="editWarrantyYears" class="form-label">Warranty (Years)</label>
                          <input type="number" class="form-control" id="editWarrantyYears" name="warranty_years">
                        </div>
                      </div>
                    </div>

                    <div class="mb-3">
                      <label for="editStyle" class="form-label">Style</label>
                      <input type="text" class="form-control" id="editStyle" name="style">
                    </div>

                    <div class="mb-3">
                      <label for="editCareInstructions" class="form-label">Care Instructions</label>
                      <textarea class="form-control" id="editCareInstructions" name="care_instructions" rows="2"></textarea>
                    </div>

                    <div class="mb-3">
                      <label for="editShopifySpecSheet" class="form-label">Spec Sheet URL</label>
                      <input type="url" class="form-control" id="editShopifySpecSheet" name="shopify_spec_sheet">
                      <span id="specSheetStatus" class="badge bg-secondary ms-2" style="display: none;">No spec sheet</span>
                      <button type="button" class="btn btn-outline-primary btn-sm ms-2" onclick="validateSpecSheet()" style="display: none;">
                        <i class="fas fa-check"></i> Validate
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" onclick="saveProduct()">
          <i class="fas fa-save me-1"></i>Save Changes
        </button>
      </div>
    </div>
  </div>
</div>